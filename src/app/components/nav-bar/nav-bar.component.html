<aside [class.expanded]="isExpanded">
  <div class="sidebar-header">
    <button class="toggle-btn" (click)="toggleSidebar()">
      <i [class]="isExpanded ? 'ph ph-x' : 'ph ph-list'"></i>
    </button>
  </div>

  <div class="sidebar-content">
    <nav>
      <a routerLink="/" class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" [class.expanded]="isExpanded">
        <i class="ph ph-house"></i>
        <span>Accueil</span>
      </a>

    

    <!-- Menu items for authenticated users -->
    <ng-container *ngIf="auth.isAuthenticated$ | async">
      <a  class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" [class.expanded]="isExpanded">
        <i class="ph ph-eye"></i>
        <span>Lunettes de vues</span>
      </a>

      <a class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" [class.expanded]="isExpanded">
        <i class="ph ph-sun"></i>
        <span>Lunettes de soleil</span>
      </a>

      <a  class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" [class.expanded]="isExpanded">
        <i class="ph ph-eye"></i>
        <span>Lentilles</span>
      </a>
      
      <a class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" [class.expanded]="isExpanded">
        <i class="ph ph-ear"></i>
        <span>Audition</span>
      </a>
        <a routerLink="/profile" class="nav-item" routerLinkActive="active" [class.expanded]="isExpanded">
          <i class="ph ph-user"></i>
          <span>Profil</span>
        </a>
        <a routerLink="/external-api" class="nav-item" routerLinkActive="active" [class.expanded]="isExpanded">
          <i class="ph ph-globe"></i>
          <span>API Externe</span>
        </a>
        <a routerLink="/settings" class="nav-item" routerLinkActive="active" [class.expanded]="isExpanded">
          <i class="ph ph-gear"></i>
          <span>Paramètres</span>
        </a>
      </ng-container>
    </nav>

    <!-- User profile section -->
    <div class="user-section">
      <!-- Show login button if not authenticated -->
      <div *ngIf="(auth.isAuthenticated$ | async) === false" class="login-button" [class.expanded]="isExpanded">
    
      </div>
      <!-- Show user profile if authenticated -->
      <div *ngIf="auth.user$ | async as user" class="user-profile" [class.expanded]="isExpanded">
        <div class="avatar">
          <img [src]="user.picture" [alt]="user.name" *ngIf="user.picture">
          <i class="ph ph-user-circle" *ngIf="!user.picture"></i>
        </div>
        <div class="user-info" [class.expanded]="isExpanded">
          <h3>{{ user.name }}</h3>
          <p>{{ user.email }}</p>
          <button (click)="logout()" class="logout-btn">
            <i class="ph ph-sign-out"></i>
            <span>Déconnexion</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</aside>

<div class="content-overlay" 
     [class.active]="isExpanded"
     (click)="toggleSidebar()">
</div>